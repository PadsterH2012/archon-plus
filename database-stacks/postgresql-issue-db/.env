# PostgreSQL Issue Database Configuration
# 
# IMPORTANT: Change the passwords below for production use!
# These are the default development passwords.

# =============================================================================
# REQUIRED SETTINGS - MUST BE SET
# =============================================================================

# PostgreSQL Database Password (REQUIRED)
POSTGRES_PASSWORD=archon_secure_password_2024

# pgAdmin Web Interface Password (REQUIRED)
PGADMIN_PASSWORD=admin_secure_password_2024

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Settings
POSTGRES_DB=archon_issues
POSTGRES_USER=archon_user
POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C
PGDATA=/var/lib/postgresql/data/pgdata

# =============================================================================
# NETWORK PORTS
# =============================================================================

# PostgreSQL External Port (mapped to container port 5432)
POSTGRES_PORT=5433

# pgAdmin External Port (mapped to container port 80)
PGADMIN_PORT=5050

# =============================================================================
# PGADMIN CONFIGURATION
# =============================================================================

# pgAdmin Login Credentials
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_CONFIG_SERVER_MODE=False
PGADMIN_CONFIG_MASTER_PASSWORD_REQUIRED=False

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# PostgreSQL Resource Limits
POSTGRES_MEMORY_LIMIT=1G
POSTGRES_MEMORY_RESERVATION=512M
POSTGRES_CPU_LIMIT=1.0
POSTGRES_CPU_RESERVATION=0.5

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health Check Settings
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=5
HEALTHCHECK_START_PERIOD=30s

# =============================================================================
# CONNECTION STRINGS (for reference)
# =============================================================================

# Full Database URL (use this in applications)
# DATABASE_URL=postgresql://archon_user:archon_secure_password_2024@10.202.70.20:5433/archon_issues

# Individual Connection Parameters
# POSTGRESQL_HOST=10.202.70.20
# POSTGRESQL_PORT=5433
# POSTGRESQL_DATABASE=archon_issues
# POSTGRESQL_USER=archon_user
# POSTGRESQL_PASSWORD=archon_secure_password_2024

# =============================================================================
# BACKUP CONFIGURATION (optional)
# =============================================================================

# Backup Settings (for future use)
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/mnt/network_repo/stack_dbs/postgresql/backups

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# PostgreSQL Logging
POSTGRES_LOG_LEVEL=info
POSTGRES_LOG_STATEMENT=none
# Options: none, ddl, mod, all

# =============================================================================
# SSL CONFIGURATION (optional)
# =============================================================================

# SSL Settings (for production)
POSTGRES_SSL_MODE=prefer
# Options: disable, allow, prefer, require, verify-ca, verify-full
POSTGRES_SSL_CERT_PATH=""
POSTGRES_SSL_KEY_PATH=""
POSTGRES_SSL_CA_PATH=""

# =============================================================================
# DEVELOPMENT/PRODUCTION TOGGLE
# =============================================================================

# Environment Type
ENVIRONMENT=development
# Options: development, staging, production

# Debug Mode
DEBUG_MODE=true
